[["index.html", "NYC crimes Chapter 1 Introduction", " NYC crimes Shumin, Xinhao, and Yuta 2022-12-15 Chapter 1 Introduction New York City, where we are living and studying, is one of the biggest and busiest cities in the world. The population is over 8 million as of 2021, which is largest of all cities in the United States, according to United States Census Bureau. However, the Big Apple is not only exciting but also infamous for the high crime rate, especially the hike after the COVID-19 pandemic. Actually, we can see horrible news on a crime almost everyday (it seems to be a hundred times more than my home country…). Our motivation for choosing this topic, NYC crimes, is here: in order to live in the city at ease, we are very curious about the crime data to understand what occurs. Through this project, we would like to clarify and answer questions below: what type of crimes occur the most/least; where crimes occur the most/least; what type of people are likely to be victims; do the characteristics above differ depending on the time the incident occurs (morning, daytime, night…); is there any trends or changes in terms of time series. "],["proposal.html", "Chapter 2 Proposal 2.1 Research topic 2.2 Data availability 2.3 Data format", " Chapter 2 Proposal 2.1 Research topic We chose “NYC crimes” as our topic, because, as a resident of New York City, we would like to utilize the result of our analysis to avoid dangerous situation as much as possible. Although crime data for other cities in the United State might be accessible, we rather focus on New York City in order not to go off the rails from the purpose. In this project, we clarify the characteristics of crimes and victims at a single point (cross-sectional) as well as time series trends. Specifically, we answer these questions below: what type of crimes occur the most/least; where crimes occur the most/least; what type of people are likely to be victims; do the characteristics above differ depending on the time the incident occurs; is there any trends or changes in terms of time series. Answering these questions will help us be safe, knowing how I am likely to be at risk and avoiding dangerous places and times. 2.2 Data availability In order to find appropriate answers for our research questions, we choose “NYPD Complaint Data Current(Year To Date)” dataset from NYC Open Data website as our main data source to analyze. The URL of this dataset is https://data.cityofnewyork.us/Public-Safety/NYPD-Complaint-Data-Current-Year-To-Date-/5uac-w243 . This dataset contains all valid felony, misdemeanor and violation crimes reported to the New York City Police Department(NYPD), which demonstrates the reliability and authority of the data. The dataset is in CSV file format and it is updated by NYPD quarterly. So far, this dataset collects consecutive records starting from 1972 to 2022, which allow us to investigate changes of total number of crime reports with time and proportion of different types of crimes in each year. One crucial reason why we select this data source is that NYPD provides numerous accurate reports with detailed and various descriptions. The raw dataset contains approximately 400,000 crime records with 36 variable categories in total. There are many descriptive variables such as exact date of occurrence for the reported event, level of offense including felony, misdemeanor and violation, description of offense, suspect’s age and race group, etc. Supported by these variables of each observation, we can select and analyze data and illustrative information related to our research questions. For example, we need to filter out level of offense as well as description of offense categories in answering question “what type of crimes occur the most/least in NYC”. Nevertheless, there are some unimportant variables for our research questions. For example, the exact time of occurrence for the reported event time within a particular day, the name of the patrol borough in which the crime incident occurred and precise physical coordinates of location where reported event occurred. Further, it contains many null/NA values for many observations and unknown values for some observations. For instance, the age and race of suspect could be “unknown” in the dataset. Therefore, we need to remove unnecessary variables and modify the null values in data cleaning process. The Socrata Open Data API (SODA) provides programmatic access to this data set including the ability to filter, query, and aggregate data. To download the data in R, we can register an account on NYC Open Data to create an app_token and access the data with Socrata Open Data API, which is a package called RSocrata in R. Once we download the dataset, we can save it locally and load it every time we analyze the data. 2.3 Data format colname description types CMPLNT_NUM Randomly generated persistent ID for each complaint Plain Text ADDR_PCT_CD The precinct in which the incident occurred Number BORO_NM The name of the borough in which the incident occurred Plain Text CMPLNT_FR_DT Exact date of occurrence for the reported event (or starting date of occurrence, if CMPLNT_TO_DT exists) Date &amp; Time CMPLNT_FR_TM Exact time of occurrence for the reported event (or starting time of occurrence, if CMPLNT_TO_TM exists) Plain Text CMPLNT_TO_DT Ending date of occurrence for the reported event, if exact time of occurrence is unknown Date &amp; Time CMPLNT_TO_TM Ending time of occurrence for the reported event, if exact time of occurrence is unknown Plain Text CRM_ATPT_CPTD_CD Indicator of whether crime was successfully completed or attempted, but failed or was interrupted prematurely Plain Text HADEVELOPT Name of NYCHA housing development of occurrence, if applicable Plain Text HOUSING_PSA Development Level Code Number JURISDICTION_CODE Jurisdiction responsible for incident. Either internal, like Police(0), Transit(1), and Housing(2); or external(3), like Correction, Port Authority, etc. Number JURIS_DESC Description of the jurisdiction code Plain Text KY_CD Three digit offense classification code Number LAW_CAT_CD Level of offense: felony, misdemeanor, violation Plain Text LOC_OF_OCCUR_DESC Specific location of occurrence in or around the premises; inside, opposite of, front of, rear of Plain Text OFNS_DESC Description of offense corresponding with key code Plain Text PARKS_NM Name of NYC park, playground or greenspace of occurrence, if applicable (state parks are not included) Plain Text PATROL_BORO The name of the patrol borough in which the incident occurred Plain Text PD_CD Three digit internal classification code (more granular than Key Code) Number PD_DESC Description of internal classification corresponding with PD code (more granular than Offense Description) Plain Text PREM_TYP_DESC Specific description of premises; grocery store, residence, street, etc. Plain Text RPT_DT Date event was reported to police Date &amp; Time STATION_NAME Transit station name Plain Text SUSP_AGE_GROUP Suspect’s Age Group Plain Text SUSP_RACE Suspect’s Race Description Plain Text SUSP_SEX Suspect’s Sex Description Plain Text TRANSIT_DISTRICT Transit district in which the offense occurred. Number VIC_AGE_GROUP Victim’s Age Group Plain Text VIC_RACE Victim’s Race Description Plain Text VIC_SEX Victim’s Sex Description Plain Text X_COORD_CD X-coordinate for New York State Plane Coordinate System, Long Island Zone, NAD 83, units feet (FIPS 3104) Number Y_COORD_CD Y-coordinate for New York State Plane Coordinate System, Long Island Zone, NAD 83, units feet (FIPS 3104) Number Latitude Midblock Latitude coordinate for Global Coordinate System, WGS 1984, decimal degrees (EPSG 4326) Number Longitude Midblock Longitude coordinate for Global Coordinate System, WGS 1984, decimal degrees (EPSG 4326) Number Lat_Lon Location New Georeferenced Column Point "],["data.html", "Chapter 3 Data 3.1 Sources 3.2 Cleaning / transformation 3.3 Missing value analysis", " Chapter 3 Data 3.1 Sources As discussed in 2.2, data is downloaded from https://data.cityofnewyork.us/Public-Safety/NYPD-Complaint-Data-Current-Year-To-Date-/5uac-w243. 3.2 Cleaning / transformation The format of dataset is described in section 2.3. In this section, we want to do some cleaning and transformation to the raw dataset to make it tidy. We transform the type of columns to match it’s description. For example, we transform the type of ADDR_PCT_CD to numeric, as it describes the precinct in which the incident occurred. Also, we transform the type of CMPLNT_FR_DT into date, as it describes exact date of occurrence for the reported event. We drop the columns carrying the same information. For example, Lat_Lon.Latitude is exactly the same as Lat_Lon.Latitude, and Lat_Lon.Longitude is identical to Longitude. Moreover, New Georeferenced Column is just the combination of Latitude and Longitude. Therefore, we drop Lat_Lon and New Georeferenced Column in our dataset. we drop the unreasonable rows. For example, there are crimes starting at year 1011, which we believe is a mistake. In addition, in the suspect’s and victim’s ages, there are negative values. So we drop the rows with such mistakes. We factorize some variables. For example, ADDR_PCT_CD describes the precinct in which the incident occurred, so instead of integer, it should be factor. Moreover, some factors are ordinal, like LAW_CAT_CD, it describes the level of offense: felony, misdemeanor, violation, and SUSP_AGE_GROUP, which is the suspect’s age group. After cleaning and transforming, the description and the class of each column is shown in the table below: Colname Description Class ADDR_PCT_CD The precinct in which the incident occurred factor BORO_NM The name of the borough in which the incident occurred factor CMPLNT_FR_DT Exact date of occurrence for the reported event (or starting date of occurrence, if CMPLNT_TO_DT exists) Date CMPLNT_FR_TM Exact time of occurrence for the reported event (or starting time of occurrence, if CMPLNT_TO_TM exists) character CMPLNT_NUM Randomly generated persistent ID for each complaint character CMPLNT_TO_DT Ending date of occurrence for the reported event, if exact time of occurrence is unknown Date CMPLNT_TO_TM Ending time of occurrence for the reported event, if exact time of occurrence is unknown character CRM_ATPT_CPTD_CD Indicator of whether crime was successfully completed or attempted, but failed or was interrupted prematurely factor HADEVELOPT Name of NYCHA housing development of occurrence, if applicable factor HOUSING_PSA Development Level Code factor JURIS_DESC Description of the jurisdiction code factor JURISDICTION_CODE Jurisdiction responsible for incident. Either internal, like Police(0), Transit(1), and Housing(2); or external(3), like Correction, Port Authority, etc. factor KY_CD Three digit offense classification code factor LAW_CAT_CD Level of offense: felony, misdemeanor, violation factor LOC_OF_OCCUR_DESC Specific location of occurrence in or around the premises; inside, opposite of, front of, rear of factor OFNS_DESC Description of offense corresponding with key code character PARKS_NM Name of NYC park, playground or greenspace of occurrence, if applicable (state parks are not included) factor PATROL_BORO The name of the patrol borough in which the incident occurred factor PD_CD Three digit internal classification code (more granular than Key Code) factor PD_DESC Description of internal classification corresponding with PD code (more granular than Offense Description) character PREM_TYP_DESC Specific description of premises; grocery store, residence, street, etc. character RPT_DT Date event was reported to police Date STATION_NAME Transit station name character SUSP_AGE_GROUP Suspect’s Age Group factor SUSP_RACE Suspect’s Race Description factor SUSP_SEX Suspect’s Sex Description factor TRANSIT_DISTRICT Transit district in which the offense occurred. factor VIC_AGE_GROUP Victim’s Age Group factor VIC_RACE Victim’s Race Description factor VIC_SEX Victim’s Sex Description factor X_COORD_CD X-coordinate for New York State Plane Coordinate System, Long Island Zone, NAD 83, units feet (FIPS 3104) numeric Y_COORD_CD Y-coordinate for New York State Plane Coordinate System, Long Island Zone, NAD 83, units feet (FIPS 3104) numeric Geocoded_Column.type Type of the geographical location factor 3.3 Missing value analysis In the dataset, there are missing values and values marked as Unknown. variables na_nums unknown_nums cmplnt_num 0 0 addr_pct_cd 20 0 boro_nm 657 0 cmplnt_fr_dt 0 0 cmplnt_fr_tm 0 0 cmplnt_to_dt 29380 0 cmplnt_to_tm 29262 0 crm_atpt_cptd_cd 0 0 hadevelopt 395630 0 jurisdiction_code 0 0 juris_desc 0 0 ky_cd 0 0 law_cat_cd 0 0 loc_of_occur_desc 66072 0 ofns_desc 5 0 parks_nm 394169 0 patrol_boro 2 0 pd_cd 437 0 pd_desc 437 1221 prem_typ_desc 474 0 rpt_dt 0 0 station_name 388551 0 susp_age_group 73511 152659 susp_race 73511 99078 susp_sex 73511 0 vic_age_group 0 111822 vic_race 104 119927 vic_sex 0 0 x_coord_cd 9 0 y_coord_cd 9 0 latitude 9 0 longitude 9 0 geocoded_column.type 9 0 housing_psa 371401 0 transit_district 388551 0 Based on two horizontal bar charts above that show the total number of NA values as well as Unknown values in each variable from dataset, we can see several apparent features in missing values: In bar chart of number of NA values, variable TRANSIT_DISTRICT and STATION_NAME are positively associated because they represent transit district in which the offense occurred and transit police station name respectively. Since each of these two variables has more than 300k NA values, which is more than 92% of total observations in dataset, and we only focus on where did a crime occur, we can drop these two variables in our result analysis part.Similarly, variable PARKS_NM, HOUSING_PSA, HADEVELOP have a positive correlation. This means if an observation has NA value in one of these three variables, then there is high probability that such observation will have NA values in other two variables. Since each of these three variables has more than 300k NA values and they are not related to our research questions, we will remove these variables in result analysis part. In bar chart of number of NA values, variable SUSP_SEX, SUSP_RACE, SUSP_AGE_GROUP have same number of NA values of 73511. Moreover, if an observation has NA value in one of these three variables, then this observation record will have NA values in other two variables. Since we only focus on victims attributes in our research questions, we will remove these three variables in result analysis. Similarly, variable CMPLNT_TO_TM, CMPLNT_TO_DT have same number of NA values of 29262. Since we are only focus on occurred date of crimes, we will not include these 2 variables in our result analysis. In bar chart of number of NA values, there are ADDR_PCT_CD, BORO_NM, OFNS_DESC, PATROL_BORO, PD_CD, PD_DESC, PREM_TYP_DESC, VIC_RACE, X_COORD_CD, Y_COORD_CD, Geocoded_Column.type variables having NA values that are less than 1k. We will directly delete observations with NA values in these variables in our result analysis since total number of such observations only occupy approximately 0.5% of all data. In bar chart of number of Unknown values, variable VIC_RACE and VIC_AGE_GROUP have a strong positive correlation. VIC_RACE has 119.927k Unknown values while VIC_AGE_GROUP has 111.822k Unknown values, both of them occupy more than 28% of total observations. We will delete observations with Unknown values in making graphs of victim race and victim age group distribution over different areas of NYC. However, since there is a moderate portion of Unknown values in these two variables and we need to show that remaining data is not biased, we will make two tables to show distribution of observations with Unknown values in VIC_RACE and VIC_AGE_GROUP over boroughs of NYC. ## ## FALSE TRUE ## BRONX 63288 19916 ## BROOKLYN 83494 26951 ## MANHATTAN 60011 40288 ## QUEENS 65060 20607 ## STATEN ISLAND 12541 4039 According to these two plots, we can see that Manhattan borough has the highest percentage of Unknown values in variable VIC_RACE and VIC_AGE_GROUP. Unknown values approximately have uniform distribution in other four variables. Therefore, the removal of all observations with Unknown values in VIC_RACE and VIC_AGE_GROUP will reduce the density of each type of victim race and victim age group in Manhattan. This limitation will slightly reduce the overall accuracy of our graph. In bar chart of number of Unknown values, variable SUSP_RACE, SUSP_AGE_GROUP have a strong positive correlation. Since each of these two variables has more than 99k Unknown values and we only focus on victims attributes in our research questions, we will remove these two variables in result analysis. In bar chart of number of Unknown values, variable PD_DESC has 1221 Unknown values. Since this just occupy less than 0.5% of total data, we will directly remove observations with Unknown values in PD_DESC in our result analysis. "],["results.html", "Chapter 4 Results 4.1 Time series analysis 4.2 Analysis for Relation between Victim and Crime Type 4.3 Geographic Analysis", " Chapter 4 Results 4.1 Time series analysis The majority of the recorded crime in this dataset is happened in 2022 (&gt;97%). Therefore, we focus on the time series analysis in 2022. Because of the release date of the dataset, we only have data before October. Year Count &lt;2022 10113 2022 386739 4.1.1 Frequency Analysis We can see from the above plot that the number of crimes in 2022 from January to October goes gradually up then down. It indicates that the number of crimes may have a positive correlation to the temperature. When weather is warmer, there tends to be more crimes. This plot shows the frequency of crimes at difference time of the day in 2022. The occurrence of crime reaches to its lowest in the morning then gradually goes up. It reaches its peak at 3-5 p.m. then goes down. It’s against to our intuition that most crime occurs at night. In fact, most of the crimes occur in the daytime, especially in the afternoon. 4.1.2 Law Category Analysis The plot shows the frequency of crimes falling in different law categories in 2022. We can see from the plot the frequency of law categories in decreasing order is misdemeanor, felony, and violation. They all experience an increase and decrease in trend of occurrence in 2022. Moreover, frequency of misdemeanor has the highest variance while the frequency of violation is the most stable among the frequencies of these three law categories. The above graph shows the frequencies of crimes of all three law categories reaches their lowest points at 5-6 a.m.. And they reaches their highest points at 3-5 p.m.. We can also see from the plot that in the night, there is another peak for felony and the rate of felony in all categories of crimes goes up. It’s to our intuition that the felony often occur at midnight. 4.2 Analysis for Relation between Victim and Crime Type In order to figure out what type of crime that a person in NYC is most likely to encounter, we divided all crime records into 7 types of crimes based on their descriptions: Murder, Assault, Robbery, Sexual Crime, Fraud, Harassment and Others. In this section, we use the crime data in the recent 10 years, that is, between 2013 and 2022. From the bar chart we can see that in the past decade, robbery occurred the most. Sexual crime, fraud and murder occurred relatively infrequently. According to this mosaic plot, we can find that Robbery and Assault are two most frequent crime types occur in general that a person could encounter in NYC. It also tells us many representative characteristics based on classification of victims. For example, for any race and gender, the older a victim was, the more likely he/she got involved in a robbery or theft, which we can intuitively understand the reason since the older people cannot move fast and thus will tend to be targeted by thieves. Besides, we can see from this plot that elderly people will be more easily deceived, resulting in the higher proportion of fraud incidents than younger age groups. In addition, females under 18 might have higher probability to become victims of Sexual Crime than other groups. White and Aisan / Pacific Islanders race have higher probability to encounter Robbery crimes than other race groups. 4.3 Geographic Analysis 4.3.1 Borough Analysis This plot shows the frequency of crimes everyday happened in different boroughs in 2022. We can see from the plot that in terms of median, crimes happened in Brooklyn the most and happened in Staten Island the least everyday. There are few outliers in every box, meaning that the number of crimes everyday happen in a borough is relatively stable. 4.3.2 Analysis for Whole Area of NYC To create and discuss geographic visualization, we use the crime data only for the recent 10 years, that is, between 2013 and 2022, because we are interested in the current crime situation in the NYC and the situation might change dramatically if a few decades have passed. For the geographic analysis, we created 2D density maps, in which the frequency of crimes at every place in the NYC can be described by calculating the number of crime by each coordinate. Each map has a label of density level letting the maximum value be 1. We chose the opacity (denoted as “alpha”) of the density map to 0.5 so that we can see the background map. Maps above show that the areas where crimes were likely to occur varied according to the victim’s characteristics such as age, sex and race. Specifically, crimes against Asian people tended to occur near Flushing as well as Midtown Manhattan, which is probably because there is a big China town in Flushing and thus many Asian people visit there, while Black Hispanic people was likely to get involved in a crime in Bronx. In terms of victim’s gender and age, many young (less than 18) female and male victims in Bronx might draw your attention in particular. We presume that this is because assault and sexual crimes occurred more frequently in Bronx than in other borough (it is explained by an interactive visualization next chapter), and also because teenagers were more likely to suffered from those types of crimes, as the mosaic plot below shows. Although we can find a bunch of findings from these visualization, according to our objective and interest, we focus on the data near the campus of Columbia University and try to find some findings. 4.3.3 Analysis for the area near Columbia University We zoomed in on the map and created a density map again so that we can find where is dangerous near our campus. As a result, more crimes seems to occur in the area more than 3 blocks away from the campus than just around the corner. In particular, we should be careful if we go around the 125th street Amsterdam Avenue and in the east side of Morningside Park. Next, we filtered the dataset into only crimes occurred near Columbia campus, and created a mosaic plot. This graph provides us with the information that the 18-24 year-old group, most of whom might be students, was suffer from robbery and theft the most frequently all day long. Although the percentage of each type of crime is almost the same between female and male of the 18-24 group, it seems that the proportion of assault incidents for female groups is slightly higher than male groups. Moreover, since we can find that the female 18-24 group has much higher proportion of sexual crime than other groups (even the “others” female group), especially midnight (12AM-6AM), they should not walk outside alone late at night. "],["interactive-component.html", "Chapter 5 Interactive component", " Chapter 5 Interactive component We created an interactive heat map in order to show where crimes occur the most/least, and what if we choose a crime type. The interactivity will help you explore the viz/data more flexibly and promptly. The link to the visualization is here. Go to the interactive website. Specifically, the visualization is based on the NYC crime data between 2013 and 2022. This visualization provides you with interactive experiences in the following way: Initially, you will see a heat map for the total number of all types of crime. If you click one bar on the bar chart by crime type, the heat map on the left will change so that the based data is limited to the crime type you choose, as well as the color changes. If you hover the cursor over the map, the corresponding precinct number, the crime type and the number of crime incidents are displayed. You can reset the heatmap to the initial state by clicking “Reset” button. Seeing in detail, Murder, Assault and Sexual crime have the similar pattern of the crime frequency by area that Bronx and the outskirts of Brooklyn and Queens have the high frequency of those types of incidents, while Robbery and Harassment equally occurred almost everywhere. Fraud has a totally different pattern from murder incidents, which we think is because the characteristic of suspects might be different. "],["conclusion.html", "Chapter 6 Conclusion 6.1 Exploration 6.2 Limitation 6.3 Future Directions And Lessons Learned", " Chapter 6 Conclusion 6.1 Exploration Through our analysis on all valid New York City crime records from 2013 to 2022, we explored several distinctive characteristics that respond to our initial research questions. We have found that Robbery and Assault crime types have the highest frequency while Murder and Fraud crime types have the lowest frequency in total. From Geographic analysis, we conclude that crimes are more likely to occur in Brooklyn and Manhattan boroughs than Queens and Bronx. Specifically, Downtown and Harlem in Manhattan, Bedford-Stuyvesant and Browns Ville in Brooklyn and South Bronx in Bronx are districts with the most crimes. In addition, according to our analysis on victim attributes with crime types they encountered, we found that males in Asian or White race group with age between 25 and 44 have the highest probability to become victims of Robbery crimes; females in White Hispanic or Other race group with age under 18 are more likely to become victims of Sexual crimes; people in Black race group, despite of their genders, have the highest frequency to suffer from Assault crimes. From our Time Series analysis, we discovered that crimes are more likely to occur from June to August. Moreover, the occurrence of crime reaches its lowest frequency in the morning then gradually goes up and reaches its peak between 3 and 5 p.m. within a day. 6.2 Limitation There are two major limitations in our research. One limitation is that we remove many observations with Unknown values in Victim Race &amp; Victim Age Group in geographic analysis. We assumed these observations are missing at random and are uniformly distributed in each borough of NYC. However, according to two plots that summarize the geographic distribution of observations with missing values, Manhattan borough has significantly more observations with Unknown values in variable VIC_RACE and VIC_AGE_GROUP. It doesn’t exactly match our assumption and would cause our geographic analysis reduce the density of each type of victim race and victim age group in Manhattan on density maps. Another limitation is we mainly used one data source in our analysis, which is the “NYPD Complaint Data Current(Year To Date)” dataset from NYC Open Data website. Although NYPD has sufficient authority to ensure accuracy, authenticity as well as completeness of all crime records in this dataset, it might still have some minor errors or mistakes during the data collecting and generating process. If we can compare our data source with some other related NYC crime record datasets or research, we can not only avoid errors in NYPD Complaint Data based on comparisons, but also enhance the credibility as well as precision of our results. 6.3 Future Directions And Lessons Learned If we have opportunities to conduct further research on our project, we have three directions in general. Firstly, we want to analyze patterns of crime type frequency in a longer time period more than 10 years. Such analysis could help us figure out crime type frequency change along the time. The second direction is investigating suspect characteristics corresponding to crime types and geographic locations. This analysis will provide general patterns of suspects and assist people in preventing crime occurrence. Last but not the least, we want to find more NYC crime related papers and research to check if our results are accurate in matching the common findings. We also learned numerous skills and analysis methods by making this project. We have practiced how to make a density map graph using data with exact location coordinates. Additionally, we learned how to transform original dataset into a more selective one that satisfy our requirements for research topics. These lessons learned can be used to improve our performance in future projects and future stages of current project. "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
